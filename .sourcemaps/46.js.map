{"version":3,"sources":["../../src/pages/clone/clone.module.ts","../../src/pages/clone/clone.ts"],"names":[],"mappings":"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","file":"46.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ClonePage } from './clone';\n\n@NgModule({\n  declarations: [\n    ClonePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ClonePage),\n  ],\n})\nexport class ClonePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clone/clone.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, LoadingController } from 'ionic-angular';\nimport { LocalService } from '../../services/local.service';\nimport { AngularFireService } from '../../services/af.service';\nimport { AppService } from '../../services/app.service';\nimport { CrudService } from '../../services/crud.service';\nimport { DbService } from '../../services/db.service';\nimport { iItem } from '../../interfaces/item.interface';\nimport { iShop } from '../../interfaces/shop.interface';\n@IonicPage()\n@Component({\n  selector: 'page-clone',\n  templateUrl: 'clone.html',\n})\nexport class ClonePage {\n  DSHOP: iShop;\n  SSHOP: iShop;\n  SITEMS: iItem[] = [];\n  DITEMS: iItem[] = [];\n  CloneStatus: boolean[] = [];\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private modalCtrl: ModalController,\n    private loadingCtrl: LoadingController,\n    private localService: LocalService,\n    private crudService: CrudService,\n    private afService: AngularFireService,\n    private appService: AppService,\n    private dbService: DbService\n  ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ClonePage');\n  }\n\n  getSourceShop() {\n    console.log('getSourceShop...');\n    let modal = this.modalCtrl.create('SearchShopPage');\n    modal.onDidDismiss((data) => {\n      console.log(data);\n      if (typeof (data) !== 'undefined') {\n        this.SSHOP = data.SHOP;\n        // this.SHOP_ID = this.SHOP.SHOP_ID;\n        // this.afService.getList('Shop_Items/' + this.SSHOP.SHOP_ID)\n        //   .subscribe((ITEMS_ID: any[]) => {\n        //     console.log(ITEMS_ID);\n        //     this.SITEMS = [];\n        //     this.CloneStatus = [];\n        //     ITEMS_ID.forEach(ITEM_ID => {\n        //       this.dbService.getOneItemReturnPromise('Items/' + ITEM_ID.$value)\n        //         .then((res: iItem) => {\n        //           // console.log(res);\n        //           this.SITEMS.push(res);\n        //           this.CloneStatus.push(false)\n        //         })\n        //         .catch((err) => {\n        //           console.log(err);\n        //         })\n        //     });\n        //     // this.ITEMS.reverse();\n        //     console.log(this.SITEMS);\n        //   })\n        this.localService.getSHOP_ITEMSnSHOP_ITEMS_ID(this.SSHOP.SHOP_ID)\n        .then((res: any)=>{\n          console.log(res);\n          this.SITEMS = res.SHOP_ITEMS;\n        })\n      } else {\n        this.SSHOP = null;\n      }\n    })\n    modal.present().then((res) => { console.log(res) }).catch((err) => { console.log(err) });\n  }\n\n  getDestionationShop() {\n    console.log('getSourceShop...');\n    let modal = this.modalCtrl.create('SearchShopPage');\n    modal.onDidDismiss((data) => {\n      console.log(data);\n      if (typeof (data) !== 'undefined') {\n        this.DSHOP = data.SHOP;\n        // this.SHOP_ID = this.SHOP.SHOP_ID;\n        this.afService.getList('Shop_Items/' + this.DSHOP.SHOP_ID)\n          .subscribe((ITEMS_ID: any[]) => {\n            console.log(ITEMS_ID);\n            this.DITEMS = [];\n            ITEMS_ID.forEach(ITEM_ID => {\n              this.dbService.getOneItemReturnPromise('Items/' + ITEM_ID.$value)\n                .then((res: iItem) => {\n                  // console.log(res);\n                  this.DITEMS.push(res);\n                })\n                .catch((err) => {\n                  console.log(err);\n                })\n            });\n            // this.ITEMS.reverse();\n            console.log(this.DITEMS);\n          })\n      } else {\n        this.DSHOP = null;\n      }\n    })\n    modal.present().then((res) => { console.log(res) }).catch((err) => { console.log(err) });\n  }\n\n  cloneItem(item, i) {\n    console.log(item, i);\n    if (typeof (this.DSHOP) !== 'undefined') {\n      item['ITEM_SHOP_ID'] = this.DSHOP.SHOP_ID;\n      // this.crudService.createItem(this.DSHOP.SHOP_ID,item,)\n      this.crudService.cloneItem(item, this.SSHOP.SHOP_ID, this.DSHOP.SHOP_ID)\n        .then((res) => {\n          console.log(res);\n          this.CloneStatus[i] = true;\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }else{\n      alert('Please select destionation shop');\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clone/clone.ts"],"sourceRoot":""}