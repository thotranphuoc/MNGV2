{"version":3,"sources":["../../src/pages/track/track.module.ts","../../src/pages/track/track.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TrackPage } from './track';\n\n@NgModule({\n  declarations: [\n    TrackPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TrackPage),\n  ],\n})\nexport class TrackPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/track/track.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController } from 'ionic-angular';\nimport { AppService } from '../../services/app.service';\nimport { CrudService } from '../../services/crud.service';\n@IonicPage()\n@Component({\n  selector: 'page-track',\n  templateUrl: 'track.html',\n})\nexport class TrackPage {\n  issue: {\n    ISSUE_TITLE: string,\n    ISSUE_DES: string,\n    ISSUE_STATE: string,\n    ISSUE_DATE: string\n  };\n  issuesData: any[] = [];\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private actionSheetCtrl: ActionSheetController,\n    private appService: AppService,\n    private crudService: CrudService\n  ) {\n    this.issue = {\n      ISSUE_DATE: null,\n      ISSUE_DES: null,\n      ISSUE_TITLE: null,\n      ISSUE_STATE: 'Open'\n    }\n  }\n\n  isUpdate: boolean = false;\n  IssueUpdateKey: string = null;\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TrackPage');\n    this.crudService.readIssues().then((res: any[]) => {\n      console.log(res);\n      this.issuesData = res;\n    })\n  }\n\n  createIssue() {\n    let date = this.appService.getCurrentDataAndTime();\n    this.issue.ISSUE_DATE = date;\n    console.log(this.issue);\n    this.crudService.createIssue(this.issue).then((res) => {\n      console.log(res);\n      this.navCtrl.setRoot('TrackPage');\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  setIssueStatus(ISSUE) {\n    console.log(ISSUE);\n    let actionSheet = this.actionSheetCtrl.create({\n      buttons: [\n        {\n          text: 'Delete',\n          role: 'destructive',\n          handler: () => {\n            console.log('Destructive clicked');\n            this.crudService.deleteIssue(ISSUE.key);\n            let index = this.issuesData.indexOf(ISSUE);\n            this.issuesData.splice(index, 1);\n          }\n        }, {\n          text: 'Modify',\n          handler: () => {\n            console.log('Archive clicked');\n            this.issue = ISSUE.data;\n            this.isUpdate = true;\n            this.IssueUpdateKey = ISSUE.key;\n            this.issue.ISSUE_STATE = 'Open';\n          }\n        }, {\n          text: 'Closed',\n          handler: () => {\n            console.log('Archive clicked');\n            this.issue = ISSUE.data;\n            this.issue.ISSUE_STATE = 'Closed';\n            this.IssueUpdateKey = ISSUE.key;\n            this.updateIssue();\n          }\n        }, {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  updateIssue(){\n    this.crudService.updateIssue(this.IssueUpdateKey, this.issue).then((res)=>{\n      console.log(res, 'update done');\n      this.isUpdate = false;\n      this.issue = {\n        ISSUE_DATE: null,\n        ISSUE_DES: null,\n        ISSUE_TITLE: null,\n        ISSUE_STATE: 'Open'\n      }\n    })\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/track/track.ts"],"sourceRoot":""}