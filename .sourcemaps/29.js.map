{"version":3,"sources":["../../src/pages/admin-board/admin-board.module.ts","../../src/pages/admin-board/admin-board.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminBoardPage } from './admin-board';\n\n@NgModule({\n  declarations: [\n    AdminBoardPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminBoardPage),\n  ],\n  exports: [\n    AdminBoardPage\n  ]\n})\nexport class AdminBoardPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-board/admin-board.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { DbService } from '../../services/db.service';\nimport { iShop } from '../../interfaces/shop.interface';\nimport { iProfile } from '../../interfaces/profile.interface';\n@IonicPage()\n@Component({\n  selector: 'page-admin-board',\n  templateUrl: 'admin-board.html',\n})\nexport class AdminBoardPage {\n  data: any;\n  SHOP: iShop;\n  USER_ID: string;\n  PROFILE: iProfile;\n  USER_ROLE: string = 'staff';\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private dbService: DbService\n  ) {\n    this.data = this.navParams.data;\n    console.log(this.data);\n    this.USER_ID = this.data.USER_ID;\n    this.SHOP = this.data.SHOP;\n    if (typeof (this.SHOP) == 'undefined') {\n      this.SHOP = null;\n      this.navCtrl.setRoot('MapPage');\n    }\n    this.PROFILE = this.data.PROFILE;\n    if(this.SHOP){\n      this.getRoleOfUserFromShop(this.SHOP.SHOP_ID, this.USER_ID).then((res: any)=>{\n        console.log(res);\n        this.USER_ROLE = res.ROLE;\n      })\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AdminBoardPage');\n  }\n\n  getRoleOfUserFromShop(SHOP_ID, USER_ID){\n    return new Promise((resolve, reject)=>{\n      this.dbService.getListReturnPromise_ArrayOfData('AdminsOfShop/'+SHOP_ID)\n      .then((admins: any[])=>{\n        console.log(admins);\n        let i = admins.map(admin => admin.UID).indexOf(USER_ID);\n        console.log(i);\n        if(i<0){\n          reject('No ROLE found');\n        }else{\n          let ROLE = admins[i].ROLE;\n          resolve({ROLE: ROLE})\n        }\n      })\n    })\n    \n  }\n\n  go2OrderManager() {\n    this.navCtrl.push('OrderManagerPage', { SHOP_ID: this.SHOP.SHOP_ID });\n  }\n\n  go2Statistic() {\n    this.navCtrl.push('OrderStatisticPage', { SHOP_ID: this.SHOP.SHOP_ID });\n  }\n\n  go2DailyStatistic() {\n    this.navCtrl.push('OrderDailyStatisticPage', { SHOP_ID: this.SHOP.SHOP_ID })\n  }\n\n  go2RangeStatistic() {\n    this.navCtrl.push('OrderRangeStatisticPage', { SHOP_ID: this.SHOP.SHOP_ID });\n  }\n\n  go2StaffManager() {\n    this.navCtrl.push('StaffManagerPage', this.data);\n  }\n\n  go2UpdateShop() {\n    console.log('Update Shop information');\n    this.navCtrl.push('UpdateShopPage', { SHOP: this.SHOP, USER_ID: this.USER_ID, PROFILE: this.PROFILE });\n  }\n\n  go2UpdateItems() {\n    console.log('Update Items Information');\n    this.navCtrl.push('UpdateItemsPage', { SHOP: this.SHOP, USER_ID: this.USER_ID, PROFILE: this.PROFILE })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-board/admin-board.ts"],"sourceRoot":""}