{"version":3,"sources":["../../src/pages/photo-select/photo-select.module.ts","../../src/pages/photo-select/photo-select.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAUjD,IAAa,qBAAqB;IAAlC;IAAoC,CAAC;IAAD,4BAAC;AAAD,CAAC;AAAxB,qBAAqB;IARjC,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,sEAAe;SAChB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;SAC1C;KACF,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZQ;AACiE;AAC/C;AAO5D,IAAa,eAAe;IAI1B,yBACS,OAAsB,EACtB,SAAoB,EACnB,eAAsC,EACtC,QAAwB,EACxB,IAAyB;QAJ1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,oBAAe,GAAf,eAAe,CAAuB;QACtC,aAAQ,GAAR,QAAQ,CAAgB;QACxB,SAAI,GAAJ,IAAI,CAAqB;QAPnC,iBAAY,GAAa,EAAE,CAAC;QAC5B,WAAM,GAAa,EAAE,CAAC;QAOpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,WAAW,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACzB,CAAC;IACH,CAAC;IAED,wCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;IAChD,CAAC;IAED,kCAAQ,GAAR,UAAS,KAAK;QACZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACpC,qBAAqB;QACrB,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC;YACnD,IAAI,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAC3C,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACX,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;gBACxB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACnB,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACnB,CAAC;IACH,CAAC;IAED,sCAAY,GAAZ,UAAa,SAAiB;QAA9B,iBAOC;QANC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAC,MAAa;YAC9C,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,eAAK,IAAI,YAAK,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,IAAE,CAAC,EAA/E,CAA+E,CAAC,CAAC;YACtH,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAC3B,CAAC,CAAC;IACJ,CAAC;IAED,qCAAW,GAAX,UAAY,KAAK;QAAjB,iBA0BC;QAzBC,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC5C,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,QAAQ,CAAC,EAAC,CAAC;6BACjF,IAAI,CAAC,UAAC,GAAG;4BACR,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;wBAC9B,CAAC,CAAC;6BACD,KAAK,CAAC,UAAC,GAAG;4BACT,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;wBAC3B,CAAC,CAAC;oBACJ,CAAC;iBACF,EAAE;oBACD,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAChC,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,WAAW,CAAC,OAAO,EAAE;aACpB,IAAI,CAAC,UAAC,GAAG,IAAK,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAC,CAAC;aAChC,KAAK,CAAC,UAAC,GAAG,IAAK,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAC,CAAC;IACpC,CAAC;IAED,oCAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,EAAC,CAAC;aAClE,IAAI,CAAC,UAAC,GAAG,IAAK,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAC,CAAC;aAChC,KAAK,CAAC,UAAC,GAAG,IAAK,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAC,CAAC;IACpC,CAAC;IAEH,sBAAC;AAAD,CAAC;AAjFY,eAAe;IAL3B,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;OACG;KACjC,CAAC;yEAM+B;QACX,4EAAS;QACF,sEAAqB;QAC5B,kFAAc;QAClB,YAAmB;AAwEpC;SAjFY,eAAe,gB","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PhotoSelectPage } from './photo-select';\n\n@NgModule({\n  declarations: [\n    PhotoSelectPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PhotoSelectPage),\n  ],\n})\nexport class PhotoSelectPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photo-select/photo-select.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController, ViewController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n@IonicPage()\n@Component({\n  selector: 'page-photo-select',\n  templateUrl: 'photo-select.html',\n})\nexport class PhotoSelectPage {\n  data: any;\n  base64Images: string[] = [];\n  images: string[] = [];\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private actionSheetCtrl: ActionSheetController,\n    private viewCtrl: ViewController,\n    private afDB: AngularFireDatabase) {\n    this.data = this.navParams.data;\n    this.base64Images = this.data.PHOTOS;\n    console.log(this.data);\n    if (typeof (this.base64Images) === 'undefined') {\n      this.base64Images = [];\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PhotoSelectPage');\n  }\n\n  getItems(event) {\n    console.log(event.srcElement.value);\n    // let srcStr = null;\n    if (typeof (event.srcElement.value) != 'undefined') {\n      let srcStr = event.srcElement.value.trim();\n      if (srcStr) {\n        this.searchString(srcStr);\n      } else {\n        console.log('no string')\n        this.images = [];\n      }\n    } else {\n      this.images = [];\n    }\n  }\n\n  searchString(searchStr: string) {\n    console.log(searchStr);\n    this.images = [];\n    this.afDB.list('Images/').forEach((images: any[])=>{\n      this.images = images.filter(image => image.IMG_KEYWORD.toLocaleLowerCase().indexOf(searchStr.toLocaleLowerCase())>=0);\n      console.log(this.images);\n    })\n  }\n\n  selectPhoto(image){\n    let actionSheet = this.actionSheetCtrl.create({\n      buttons: [\n        {\n          text: 'Select',\n          handler: () => {\n            this.viewCtrl.dismiss({ isCancel: false, PHOTOS: [image.IMG_URL, image.THUM_URL]})\n            .then((res)=>{\n              console.log('success', res);\n            })\n            .catch((err)=>{\n              console.log('fail', err);\n            })\n          }\n        }, {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present()\n    .then((res)=>{ console.log(res)})\n    .catch((err)=>{ console.log(err)})\n  }\n\n  closeModal(){\n    this.viewCtrl.dismiss({ isCancel: true, PHOTOS: this.base64Images})\n    .then((res)=>{ console.log(res)})\n    .catch((err)=>{ console.log(err)})\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photo-select/photo-select.ts"],"sourceRoot":""}