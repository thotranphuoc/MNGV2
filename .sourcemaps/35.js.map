{"version":3,"sources":["../../src/pages/favorites/favorites.module.ts","../../src/pages/favorites/favorites.ts"],"names":[],"mappings":"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","file":"35.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FavoritesPage } from './favorites';\n\n@NgModule({\n  declarations: [\n    FavoritesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FavoritesPage),\n  ],\n  exports: [\n    FavoritesPage\n  ]\n})\nexport class FavoritesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/favorites/favorites.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { DbService } from '../../services/db.service';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { GmapService } from '../../services/gmap.service';\nimport { iShop } from '../../interfaces/shop.interface';\n@IonicPage()\n@Component({\n  selector: 'page-favorites',\n  templateUrl: 'favorites.html',\n})\nexport class FavoritesPage {\n  myFavShop_ID: string[] = [];\n  myFavoriteShops: any[] = [];\n  myFavoriteItems: any[] = [];\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private gmapService: GmapService,\n    private afAuth: AngularFireAuth,\n    private dbService: DbService) {\n    let USER_ID = this.afAuth.auth.currentUser.uid\n    this.dbService.getListReturnPromise_ArrayOfKey('Favorites/' + USER_ID).then((res: any[]) => {\n      console.log(res)\n      this.myFavShop_ID = res;\n      this.myFavoriteShops = [];\n      let n = this.myFavShop_ID.length;\n      let i = 0;\n      this.myFavShop_ID.forEach(SHOP_ID => {\n        this.dbService.getOneItemReturnPromise('Shops/' + SHOP_ID).then((SHOP: iShop) => {\n          SHOP['distance'] = this.gmapService.getDistanceFromCurrent(SHOP.SHOP_LOCATION.lat, SHOP.SHOP_LOCATION.lng);\n          this.myFavoriteShops.push(SHOP);\n          i++;\n          if (i = n) {\n            this.myFavoriteShops.sort((a, b) => {\n              let ax = a.distance.distance;\n              let bx = b.distance.distance;\n              return ax - bx;\n            })\n          }\n        })\n      });\n    })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad FavoritesPage');\n  }\n\n  go2Shop(shop: iShop) {\n    console.log(shop.SHOP_OTHER);\n    if('SHOP_OTHER' in shop){\n      console.log(shop.SHOP_OTHER);\n\n      // if isVERIFIED exist\n      if('isVERIFIED' in shop.SHOP_OTHER){\n        if(shop.SHOP_OTHER.isVERIFIED){\n          console.log('isVERIFIED TRUE');\n          this.navCtrl.setRoot('Shop2Page', { shop: shop });\n        }else{\n          console.log('isVERIFIED FALSE');\n          this.navCtrl.setRoot('Shop1Page', { shop: shop });\n        }\n      }else{\n        console.log('isVERIFIED not exist');\n        this.navCtrl.setRoot('Shop1Page', { shop: shop });\n      }\n    }else{\n      console.log('no SHOP_OTHER')\n      this.navCtrl.setRoot('Shop1Page', { shop: shop });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/favorites/favorites.ts"],"sourceRoot":""}