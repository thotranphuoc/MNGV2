{"version":3,"sources":["../../src/pages/shop1/shop1.module.ts","../../src/pages/shop1/shop1.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Shop1Page } from './shop1';\n\n@NgModule({\n  declarations: [\n    Shop1Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(Shop1Page),\n  ],\n})\nexport class Shop1PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop1/shop1.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, FabContainer } from 'ionic-angular';\nimport { iShop } from '../../interfaces/shop.interface';\nimport { iItem } from '../../interfaces/item.interface';\nimport { LocalService } from '../../services/local.service';\nimport { AngularFireService } from '../../services/af.service';\n\n@IonicPage()\n@Component({\n  selector: 'page-shop1',\n  templateUrl: 'shop1.html',\n})\nexport class Shop1Page {\n  loading: any;\n  SHOP: iShop = null;\n  SHOP_ITEMS: any[] = [];\n  SHOP_ITEMS_BK: any[] = [];\n  SHOP_ITEMS_ID: any[] = [];\n  USER_ID: string = null;\n  n: number = 2;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private loadingCtrl: LoadingController,\n    private localService: LocalService,\n    private afService: AngularFireService,\n  ) {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait....',\n      spinner: 'crescent'\n    });\n    this.SHOP = navParams.data.SHOP;\n    if (typeof (this.SHOP) === 'undefined') {\n      this.navCtrl.setRoot('HomePage');\n    }\n\n    this.localService.SHOP = this.SHOP;\n    console.log(this.SHOP);\n    this.startLoading();\n\n    if (this.afService.getAuth().auth.currentUser) {\n      this.USER_ID = this.afService.getAuth().auth.currentUser.uid;\n    } else {\n      this.USER_ID = null;\n    }\n\n    if (typeof (this.SHOP) !== 'undefined') {\n      this.localService.getSHOP_ITEMSnSHOP_ITEMS_ID(this.SHOP.SHOP_ID).then((res: any) => {\n        this.SHOP_ITEMS = res.SHOP_ITEMS;\n        this.SHOP_ITEMS_BK = res.SHOP_ITEMS;\n        this.SHOP_ITEMS_ID = res.SHOP_ITEMS_ID;\n\n        this.hideLoading();\n      })\n        .catch((err) => {\n          console.log(err);\n          this.hideLoading();\n        })\n    } else {\n      this.hideLoading();\n      this.navCtrl.setRoot('HomePage');\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Shop1Page');\n  }\n\n  private startLoading() {\n    this.loading.present();\n    setTimeout(() => {\n      this.hideLoading();\n      // alert('Please turn on internet and location permission. Then open app again')\n    }, 15000)\n  }\n\n  private hideLoading() {\n    this.loading.dismiss().catch((err) => { console.log(err) });\n  }\n\n  go2AddFavorite(fab: FabContainer) {\n    console.log('add favroite clicked');\n    fab.close();\n    this.navCtrl.push('FavoriteAddPage', { SHOP_ITEMS: this.SHOP_ITEMS, SHOP_ITEMS_ID: this.SHOP_ITEMS_ID, SHOP: this.SHOP })\n  }\n\n  go2MenuItemAdd(fab: FabContainer) {\n    console.log(this.SHOP);\n    fab.close();\n    this.navCtrl.push('MenuItemAddPage', { SHOP: this.SHOP });\n  }\n\n  doOptions() {\n    if (this.n > 1) {\n      console.log(this.n);\n      this.n--;\n    } else {\n      console.log(this.n)\n      this.n = 3;\n\n    }\n  }\n\n  getItems(event){\n    this.SHOP_ITEMS = this.SHOP_ITEMS_BK;\n    console.log(event.srcElement.value);\n    if(typeof(event.srcElement.value) !=='undefined'){\n      let srcStr = event.srcElement.value.trim();\n      if(srcStr){\n        this.searchString(srcStr);\n      }else{\n        console.log('no string')\n        // this.shopList = [];\n      }\n    }else{\n      this.SHOP_ITEMS = this.SHOP_ITEMS_BK;\n    }\n  }\n\n  searchString(searchStr: string){\n    console.log(searchStr);\n    this.SHOP_ITEMS = this.SHOP_ITEMS.filter((SHOP_ITEM: iItem) => SHOP_ITEM.ITEM_NAME_EN.toLocaleLowerCase().indexOf(searchStr.toLocaleLowerCase())>=0 || SHOP_ITEM.ITEM_NAME_LOCAL.toLocaleLowerCase().indexOf(searchStr.toLocaleLowerCase())>=0)\n  }\n\n\n\n  // // For purpose to create THUM_URL only when only IMG_URL available\n  // updateDB() {\n  //   console.log(this.SHOP_ITEMS);\n  //   let IMG: string;\n  //   let IMG2: string;\n  //   let IMAGES = this.SHOP_ITEMS[0].ITEM_IMAGES;\n  //   this.SHOP_ITEMS.forEach((ITEM: any) => {\n  //     let URL = 'Items/' + ITEM.ITEM_ID + '/ITEM_IMAGES';\n  //     this.afService.updateObjectData(URL, IMAGES);\n\n  //   })\n\n  // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop1/shop1.ts"],"sourceRoot":""}