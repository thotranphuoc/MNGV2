{"version":3,"sources":["../../src/pages/image-sample/image-sample.module.ts","../../src/pages/image-sample/image-sample.ts"],"names":[],"mappings":"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","file":"32.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ImageSamplePage } from './image-sample';\n\n@NgModule({\n  declarations: [\n    ImageSamplePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ImageSamplePage),\n  ],\n})\nexport class ImageSamplePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-sample/image-sample.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { CrudService } from '../../services/crud.service';\nimport { AppService } from '../../services/app.service';\n@IonicPage()\n@Component({\n  selector: 'page-image-sample',\n  templateUrl: 'image-sample.html',\n})\nexport class ImageSamplePage {\n  NOT_IMAGE = 'imagenotavailable.png';\n  IMAGES: any[] =[];\n  IMAGES_TEMP: any[] =[];\n  IMAGES_BK: any;\n  IMAGE: iIMG = null;\n  toBeUpdated: boolean = false;\n  toAddNew: boolean = false;\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private crudService: CrudService,\n    private appService: AppService\n  ) {\n    this.getImages();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ImageSamplePage');\n  }\n\n  getImages(){\n    this.crudService.getImages().then((data: any[])=>{\n      console.log(data);\n      this.IMAGES = [];\n      // data.forEach((item: any) =>{\n      //   this.IMAGES.push({ key: item.key, IMG_NAME: item.data.IMG_NAME, IMG_URL: item.data.IMG_URL, VISIBLE: false });\n      // });\n      this.IMAGES = data;\n      this.IMAGES.map(image => image['VISIBLE']=false)\n      this.IMAGES_BK = this.IMAGES;\n      console.log(this.IMAGES);\n    })\n  }\n\n  editImage(image, i){\n    console.log(image, i);\n    this.IMAGE = image.data;\n    // this.toBeUpdated = true;\n    this.toAddNew = false;\n    this.IMAGES[i].VISIBLE = !this.IMAGES[i].VISIBLE ;\n  }\n\n  addNew(){\n    this.IMAGE = null;\n    this.toAddNew = !this.toAddNew;\n    // this.toBeUpdated = false;\n    this.IMAGE = { IMG_CODE: null, IMG_NAME: null, IMG_URL: null}\n  }\n\n  onCreate(){\n    console.log(this.IMAGE);\n    this.crudService.createImage(this.IMAGE)\n    .then((res)=>{\n      console.log(res);\n    })\n    .catch((err)=>{console.log(err)})\n  }\n\n  onUpdate(image){\n    console.log(image)\n    this.crudService.updateImage(image.data, image.key).then((res)=>{\n      console.log('success: ', res);\n      image.VISIBLE = !image.VISIBLE;\n      this.appService.toastMsg('update success', 5000);\n    })\n    .catch((err)=>{\n      console.log('error: ', err);\n    })\n  }\n\n  getItems(event) {\n    console.log(event.srcElement.value);\n    let srcStr = null;\n    if (typeof (event.srcElement.value) != 'undefined') {\n      let srcStr = event.srcElement.value.trim();\n      if (srcStr) {\n        this.searchString(srcStr);\n      } else {\n        console.log('no string')\n        this.IMAGES = this.IMAGES_BK;\n      }\n    } else {\n      // this.IMAGES = [];\n    }\n  }\n\n  searchString(searchStr: string) {\n    console.log(searchStr);\n    this.IMAGES = this.IMAGES_BK;\n    this.IMAGES = this.IMAGES.filter(image => image.data.IMG_NAME.toLocaleLowerCase().indexOf(searchStr.toLocaleLowerCase())>=0);\n    console.log(this.IMAGES);\n  }\n\n\n\n}\n\nexport interface iIMG{\n  IMG_URL: string, \n  IMG_NAME: string,\n  IMG_CODE: string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-sample/image-sample.ts"],"sourceRoot":""}