{"version":3,"sources":["../../src/pages/search-shop/search-shop.module.ts","../../src/pages/search-shop/search-shop.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchShopPage } from './search-shop';\n\n@NgModule({\n  declarations: [\n    SearchShopPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchShopPage),\n  ],\n})\nexport class SearchShopPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-shop/search-shop.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\n\nimport { AngularFireDatabase, \n  // FirebaseListObservable, \n  // FirebaseObjectObservable \n} from 'angularfire2/database';\nimport { ClipboardService } from '../../services/clipboard.service';\nimport { AppService } from '../../services/app.service';\nimport { iShop } from '../../interfaces/shop.interface';\n\n@IonicPage()\n@Component({\n  selector: 'page-search-shop',\n  templateUrl: 'search-shop.html',\n})\nexport class SearchShopPage {\n  shopList: iShop[] = [];\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private viewCtrl: ViewController,\n    private afDB: AngularFireDatabase,\n    private clipboardService: ClipboardService,\n    private appService: AppService\n  ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SearchShopPage');\n  }\n\n  close(){\n    this.viewCtrl.dismiss()\n    .catch((err)=>{\n      console.log(err);\n    })\n  }\n\n  getShops(event){\n    console.log(event.srcElement.value);\n    if (typeof (event.srcElement.value) != 'undefined') {\n      let srcStr = event.srcElement.value.trim();\n      if (srcStr) {\n        this.searchString(srcStr);\n      } else {\n        console.log('no string')\n        this.shopList = [];\n      }\n    }else{\n      this.shopList = [];\n    }\n  }\n  \n  searchString(searchStr: string) {\n    this.shopList = [];\n    this.afDB.list('Shops/').forEach((shops: iShop[]) => {\n      this.shopList = shops.filter(shop => shop.SHOP_NAME.toLocaleLowerCase().indexOf(searchStr.toLocaleLowerCase()) >= 0);\n      console.log(this.shopList);\n      // if(this.shopList.length>0){\n      //   this.shopsR\n      // }\n    })\n    .then(()=>{\n      console.log(this.shopList);\n    })\n    .catch((err)=>{\n      console.log(err);\n    })\n  }\n\n  go2Shop(shop: iShop) {\n    this.viewCtrl.dismiss({SHOP: shop})\n    .catch((err)=>{\n      console.log(err);\n    })\n  }\n\n  go2ShopDetailView(shop){\n    console.log('go2ShopDetailView', shop);\n    this.navCtrl.push('ShopDetailViewPage', { SHOP: shop});\n  }\n  \n  //click and paste shareable url\n  shareShop(SHOP: iShop){\n    let copiedString = 'menu2book.com/#/mapx/'+SHOP.SHOP_ID;\n    console.log(copiedString);\n    this.clipboardService.copy(copiedString)\n    .then((res)=>{\n      console.log(res);\n      // alert(copiedString + ' copied');\n      this.appService.toastMsgWithPosition('Copied !', 3000, 'middle');\n    })\n    .catch((err)=>{\n      console.log(err);\n    })\n  }\n\n  showShopOnMap(SHOP){\n    let copiedString = 'menu2book.com/#/shop/'+SHOP.SHOP_ID;\n    this.viewCtrl.dismiss({SHOPS: [SHOP], PAGE: 'MPage' })\n    .then((res)=>{\n      console.log(res);\n    })\n    .catch((err)=>{\n      console.log(err);\n    })\n  }\n\n  showResultOnMap(){\n    console.log('showResultOnMap ...');\n    this.viewCtrl.dismiss({SHOPS: this.shopList, PAGE: 'MPage' })\n    .then((res)=>{\n      console.log(res);\n    })\n    .catch((err)=>{\n      console.log(err);\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-shop/search-shop.ts"],"sourceRoot":""}