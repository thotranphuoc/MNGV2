{"version":3,"sources":["../../src/pages/shop2-order/shop2-order.module.ts","../../src/pages/shop2-order/shop2-order.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Shop2OrderPage } from './shop2-order';\n\n@NgModule({\n  declarations: [\n    Shop2OrderPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(Shop2OrderPage),\n  ],\n})\nexport class Shop2OrderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop2-order/shop2-order.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController } from 'ionic-angular';\n\nimport { AngularFireService } from '../../services/af.service';\nimport { AppService } from '../../services/app.service';\nimport { DbService } from '../../services/db.service';\nimport { CrudService } from '../../services/crud.service';\n\nimport { iItem } from '../../interfaces/item.interface';\nimport { iOrderList } from '../../interfaces/order-list.interface';\nimport { iOrder } from '../../interfaces/order.interface';\nimport { Subscription } from 'rxjs/Subscription';\n@IonicPage()\n@Component({\n  selector: 'page-shop2-order',\n  templateUrl: 'shop2-order.html',\n})\nexport class Shop2OrderPage {\n  USER_ID: string;\n  ORDER: iOrder;\n  SHOP: any;\n  SHOP_ITEMS: iItem[] = [];\n  SHOP_ITEMS_ID: string[] = [];\n  SHOP_ITEMS_INDEX: any[] = [];\n  isOrderNEW: boolean = true;\n  isOrderUPDATE: boolean = false;\n  data: any;\n  ACTION: string = null;\n  TOTAL: number = 0;\n  COUNT: number = 0;\n  AsyncOrder: any = null;\n  TABLE: string = null;\n  subscription: Subscription;\n  isSubscribed: boolean = false;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private viewCtrl: ViewController,\n    private modalCtrl: ModalController,\n    private crudService: CrudService,\n    private appService: AppService,\n    private dbService: DbService,\n    private afService: AngularFireService\n  ) {\n    this.data = this.navParams.data;\n    this.SHOP = this.data.SHOP;\n    this.SHOP_ITEMS = this.data.SHOP_ITEMS\n    this.SHOP_ITEMS_ID = this.data.SHOP_ITEMS_ID;\n    this.SHOP_ITEMS_INDEX = this.data.SHOP_ITEMS_INDEX;\n    this.isOrderNEW = this.data.isOrderNEW;\n    this.isOrderUPDATE = this.data.isOrderUPDATE;\n    this.ORDER = this.data.ORDER;\n    this.ACTION = this.data.ACTION;\n    this.COUNT = this.data.COUNT;\n    this.TABLE = typeof(this.data.TABLE) !=='undefined'? this.data.TABLE : null ;\n    console.log(this.data);\n    this.calTotal();\n    this.syncOrderStatus()\n  }\n\n  calTotal() {\n    this.TOTAL = 0;\n    this.SHOP_ITEMS.forEach((element, index) => {\n      this.TOTAL += element.ITEM_PRICE * this.SHOP_ITEMS_INDEX[index].count\n    });\n  }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Shop2OrderPage');\n  }\n\n  subtract(i: number) {\n    \n    if (this.SHOP_ITEMS_INDEX[i].count>0) {\n      this.SHOP_ITEMS_INDEX[i].count--;\n      this.COUNT--;\n    }\n    // this.checkItemNEWorUPDATE()\n    this.checkOrderIfUpdated();\n  }\n\n  add(i: number) {\n    this.COUNT++\n    // this.itemIndex[i].count++;\n    this.SHOP_ITEMS_INDEX[i].count++;\n    // this.checkItemNEWorUPDATE();\n\n    this.checkOrderIfUpdated();\n  }\n\n  sendORDER() {\n    let ORDER_LIST: iOrderList[] = [];\n    this.SHOP_ITEMS_INDEX.forEach((element, index: number, array) => {\n      if (element.count > 0) {\n        ORDER_LIST.push({ item: this.SHOP_ITEMS[index].ITEM_ID, amount: element.count });\n      }\n    });\n    console.log(ORDER_LIST);\n    let SHOP_ID = this.SHOP_ITEMS[0].ITEM_SHOP_ID;\n    let USER_ID = this.afService.getAuth().auth.currentUser != null ? this.afService.getAuth().auth.currentUser.uid : null;\n    let DATETIME = this.appService.getCurrentDataAndTime();\n    // let TABLE = this.TABLE;\n    this.ORDER = {\n      ORDER_ID: null,\n      ORDER_SHOP_ID: SHOP_ID,\n      ORDER_USER_ID: USER_ID,\n      ORDER_STAFT_ID: USER_ID,\n      ORDER_STATUS: 'SENDING',\n      ORDER_DATE_CREATE: DATETIME,\n      ORDER_DATE_CLOSE: null,\n      ORDER_TABLE: this.TABLE,\n      ORDER_LIST: ORDER_LIST,\n    };\n    let DATE = this.appService.getCurrentDate();\n    if ( this.TABLE === null || this.ORDER.ORDER_TABLE === null || this.ORDER.ORDER_LIST.length < 1) {\n      alert('Select table and favorite items please');\n    } else {\n      if (USER_ID) {\n        this.crudService.createOrder(this.ORDER, SHOP_ID, USER_ID, DATE)\n          .then((res: any) => {\n            console.log(res);\n            this.isOrderNEW = false;\n            this.closeModal();\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n      } else {\n        alert('Please sign in to continue');\n        // this.navCtrl.push('AccountPage', { action: 'request-login' });\n        let modal = this.modalCtrl.create('AccountPage', { action: 'request-login' });\n        modal.onDidDismiss(((data)=>{\n          console.log(data);\n          this.getActiveOrder();\n        }))\n        modal.present();\n      }\n    }\n  }\n\n  updateOrder() {\n    let ORDER_LIST: iOrderList[] = [];\n    this.SHOP_ITEMS_INDEX.forEach((element, index: number, array) => {\n      if (element.count > 0) {\n        ORDER_LIST.push({ item: this.SHOP_ITEMS[index].ITEM_ID, amount: element.count });\n      }\n    });\n    console.log(ORDER_LIST);\n    // this.dbService.getOneItemReturnPromise()\n    this.crudService.updateOrder(ORDER_LIST, this.TABLE, this.ORDER).then((res) => {\n      console.log(res);\n      this.isOrderUPDATE = false;\n      this.closeModal();\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  closeModal() {\n    // this.viewCtrl.dismiss();\n    let data = {\n      SHOP_ITEMS: this.SHOP_ITEMS,\n      SHOP_ITEMS_ID: this.SHOP_ITEMS_ID,\n      SHOP_ITEMS_INDEX: this.SHOP_ITEMS_INDEX,\n      isOrderNEW: this.isOrderNEW,\n      isOrderUPDATE: this.isOrderUPDATE,\n      ORDER: this.ORDER,\n      COUNT: this.COUNT,\n      TABLE: this.TABLE\n\n    }\n    this.viewCtrl.dismiss(data);\n  }\n\n  cancel() {\n    if (this.ORDER) {\n      let URL = 'ActiveOrdersOfUser/' + this.ORDER.ORDER_USER_ID + '/' + this.ORDER.ORDER_SHOP_ID;\n      this.dbService.getListReturnPromise_ArrayOfObjectWithKey_Data(URL)\n        .then((res: any[]) => {\n          let ORDER_LIST = res[0].data.ORDER_LIST;\n          this.COUNT = 0;\n          ORDER_LIST.forEach(order => {\n            let index = this.SHOP_ITEMS_ID.indexOf(order.item);\n            if (index >= 0) {\n              this.SHOP_ITEMS_INDEX[index].count = order.amount;\n              this.COUNT += order.amount;\n            }\n          });\n          this.isOrderUPDATE = false;\n          this.closeModal();\n        })\n    } else {\n      this.closeModal();\n    }\n\n  }\n\n  checkOrderIfUpdated() {\n    let count: number = 0;\n    this.SHOP_ITEMS_INDEX.forEach(item => {\n      count += item.count;\n    })\n    if (count > 0 && !this.isOrderNEW) {\n      this.isOrderUPDATE = true;\n    } else {\n      this.isOrderUPDATE = false;\n    }\n  }\n\n  checkBill() {\n    console.log('check bill');\n    this.closeModal();\n  }\n\n  syncOrderStatus() {\n    if (this.ORDER) {\n      this.subscription = this.afService.getObject('ActiveOrdersOfUser/' + this.ORDER.ORDER_USER_ID + '/' + this.ORDER.ORDER_SHOP_ID + '/' + this.ORDER.ORDER_ID)\n        .subscribe((snap) => {\n          console.log(snap);\n          this.AsyncOrder = snap;\n        });\n      this.isSubscribed = true;\n    }\n  }\n\n  selectTable() {\n    let modol = this.modalCtrl.create('TablePage', { SHOP: this.SHOP});\n    modol.onDidDismiss((table) => {\n      console.log(table);\n      this.TABLE = table.TABLE;\n      this.isOrderUPDATE = true;\n    })\n    modol.present();\n  }\n\n  getActiveOrder() {\n    if (this.afService.getAuth().auth.currentUser) {\n      this.USER_ID = this.afService.getAuth().auth.currentUser.uid;\n      let SHOP_ID = this.SHOP_ITEMS[0].ITEM_SHOP_ID;\n      let URL = 'ActiveOrdersOfUser/' + this.USER_ID + '/' + SHOP_ID;\n      this.dbService.getListReturnPromise_ArrayOfObjectWithKey_Data(URL)\n        .then((res: any[]) => {\n          console.log(res);\n          if (res.length > 0) {\n            alert('You have order from this shop. Would you like to continue?');\n            this.ORDER = res[0].data;\n            this.COUNT = 0;\n            this.ORDER.ORDER_LIST.forEach(order => {\n              let index = this.SHOP_ITEMS_ID.indexOf(order.item);\n              if (index >= 0) {\n                this.SHOP_ITEMS_INDEX[index].count = order.amount;\n                this.COUNT += order.amount;\n              }\n            });\n            this.isOrderNEW = false;\n            this.TABLE = this.ORDER.ORDER_TABLE;\n          } else {\n            console.log('there is no active order');\n          }\n        })\n        .catch((err) => { console.log(err) })\n    } else {\n      this.USER_ID = null;\n    }\n  }\n\n  ionViewWillLeave(){\n    if(this.isSubscribed){\n      this.subscription.unsubscribe();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop2-order/shop2-order.ts"],"sourceRoot":""}